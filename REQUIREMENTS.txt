# Minecraft Map Scraper - QA Requirements

## Absolute Standards (No Compromise)

### API Configuration
- CURSEFORGE_API_KEY environment variable MUST be configured on Railway deployment
- Demo/mock mode is FAILURE - app must use live CurseForge API
- Health check must return apiConfigured: true

### Search Functionality
- Natural language queries (e.g., "futuristic city with railways") must return 5+ REAL maps from CurseForge
- Results must have actual CurseForge IDs (not mock IDs like 1001, 1002)
- Each result must have working thumbnail images (not placeholders)

### Search Accuracy (High Standard)
- Search must return results that semantically match the user's query intent
- Minimum 1000 diverse keywords tested and validated for accuracy
- "Underwater city" must return maps that are actually underwater-themed
- "Hell" must return nether/demon/inferno themed maps, not random results
- Accuracy measured by: Result titles/descriptions must contain query keywords OR semantic equivalents
- False positive rate < 5% across 1000 test queries

### Download Functionality
- Download buttons must return valid ZIP files
- ZIP files must contain actual Minecraft map data (level.dat, region files)
- HTTP 200 responses, not 403 errors or JSON error messages

### Verification Method
1. Query: "futuristic city with railways" → Check IDs are real (not 1000+)
2. Query: "medieval castle" → Verify thumbnails load
3. Click download → Verify ZIP downloads successfully
4. Check file size > 1KB and contains level.dat

## Multi-Source Web Scraping (Commercial Grade)

### Source Coverage
- MUST aggregate results from multiple sources beyond CurseForge
- Primary additional sources: Planet Minecraft (largest repository after CurseForge)
- Secondary sources: MinecraftMaps.com, 9Minecraft (as available)
- Results from ALL sources must appear seamlessly unified with CurseForge API results

### Web Scraping Standards (Commercial Grade)
- Rate limiting: Maximum 1 request per second per source to avoid blocking
- Browser automation must handle Cloudflare protection and anti-bot measures
- Scraped data must be normalized to match CurseForge API format
- Each scraped result must include: title, author, description, download URL, thumbnail, source attribution
- Source field must indicate origin (e.g., "Planet Minecraft", "MinecraftMaps", "CurseForge")

### Data Quality Requirements
- Scraped results must have working download links (verified HTTP 200)
- Thumbnails must load from original source (not hotlinked if prohibited)
- Metadata must be accurate: author names, map descriptions, download counts (if available)
- Deduplication: Same map appearing on multiple sources must appear once with all sources listed

### Resilience & Error Handling
- If one source fails (blocked, down), other sources must continue working
- Failed source must be logged but not break the entire search
- Automatic retry with exponential backoff for transient failures
- Circuit breaker pattern: Temporarily disable sources that repeatedly fail

### Performance Requirements
- Search response time < 10 seconds including ALL sources
- Parallel fetching from multiple sources (respecting rate limits)
- Cached results for popular queries (TTL: 1 hour)

### Legal & Ethical Compliance
- Respect robots.txt and terms of service for each site
- Identify as automated scraper in User-Agent string
- No circumvention of paywalls or login requirements
- Attributions and links back to original sources required

## Success Criteria
- All search queries return live API data (not mock)
- All downloads return valid ZIP files
- Response time < 10 seconds
- Demo mode indicator = false
- Multi-source aggregation returns 2x+ more results than CurseForge alone
- 95%+ of scraped download links must be valid and working
